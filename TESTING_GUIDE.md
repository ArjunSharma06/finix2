# FINIX Round 1 Prototype - Testing Guide

This guide will help you test the Round 1 Prototype implementation.

## Prerequisites

1. **Python 3.8+** installed
2. **Node.js 18+** and npm/pnpm installed
3. **Groq API Key** (optional - app works in mock mode without it)

## Step 1: Backend Setup

### 1.1 Install Python Dependencies

```bash
cd C:\Users\yasha\backend

# Create virtual environment (if not exists)
python -m venv venv

# Activate virtual environment
# Windows PowerShell:
.\venv\Scripts\Activate.ps1
# Windows CMD:
venv\Scripts\activate.bat

# Install dependencies
pip install -r requirements.txt
```

### 1.2 Configure Environment Variables

Create a `.env` file in the root directory (`C:\Users\yasha\backend\.env`):

```env
# Optional: Skip Database (for Round 1 Prototype)
SKIP_DB_INIT=true

# Groq API Key (optional - will use mock suggestions if not set)
GROQ_API_KEY=your_groq_api_key_here

# Server Configuration (optional)
HOST=0.0.0.0
PORT=8000
```

**Note:** For Round 1, you can set `SKIP_DB_INIT=true` since we're using stateless endpoints.

### 1.3 Start Backend Server

```bash
# Make sure you're in the backend directory
cd C:\Users\yasha\backend

# Activate virtual environment if not already activated
.\venv\Scripts\Activate.ps1

# Start the server
python run.py
```

The backend should start on `http://localhost:8000`

**Verify Backend:**
- Open browser: http://localhost:8000/docs (API documentation)
- Or test health: http://localhost:8000/health

Expected response:
```json
{
  "status": "healthy",
  "service": "FINIX API",
  "database": "skipped" or "connected",
  "version": "1.0.0"
}
```

## Step 2: Frontend Setup

### 2.1 Install Node Dependencies

Open a **new terminal window** (keep backend running):

```bash
cd C:\Users\yasha\backend

# Install dependencies (using npm or pnpm)
npm install
# OR
pnpm install
```

### 2.2 Configure Frontend Environment (Optional)

Create `.env.local` file in the root directory (if API URL differs):

```env
NEXT_PUBLIC_API_URL=http://localhost:8000
```

**Note:** Default is already `http://localhost:8000`, so this is optional.

### 2.3 Start Frontend Server

```bash
# Make sure you're in the backend directory (same as frontend)
cd C:\Users\yasha\backend

# Start Next.js dev server
npm run dev
# OR
pnpm dev
```

Frontend should start on `http://localhost:3000`

## Step 3: Testing Flow

### Test 1: Health Check
1. Open browser: http://localhost:3000
2. Navigate to dashboard
3. Check browser console for any errors

### Test 2: Wallet Page - Balance & Transactions

1. Navigate to **Wallet** page (sidebar â†’ Wallet)
2. Click **"Set Balance"** button
3. Enter a balance (e.g., `5000`)
4. Click **"Save Balance"**
5. Verify balance displays correctly

6. Click **"Add Transaction"** button
7. Fill in form:
   - Amount: `50.00`
   - Category: `Food`
   - Date: Select today's date
   - Description: `Lunch at restaurant`
8. Click **"Add Transaction"**
9. Verify transaction appears in the list

**Expected:** Balance and transactions should appear immediately.

### Test 3: Expenses Page - Add Expenses

1. Navigate to **Expenses** page
2. Click **"Add Expense"** button
3. Add a few transactions:
   - Amount: `150`, Category: `Transport`, Date: today
   - Amount: `75`, Category: `Entertainment`, Date: yesterday
   - Amount: `200`, Category: `Shopping`, Date: 2 days ago
4. Verify:
   - Transactions appear in "Recent Expenses"
   - Total Expenses metric updates
   - Category breakdown chart shows data (if 3+ transactions)
   - Categories count updates

**Expected:** All expenses should be reflected in real-time calculations.

### Test 4: Travel Page - Set Travel Goal

1. Navigate to **Travel** page
2. Fill in the form:
   - Goal Name: `Summer Europe Trip`
   - Destination: `Paris, France`
   - Target Amount: `5000`
   - Currently Saved: `500`
   - Target Date: (optional) Select a future date
3. Click **"Save Goal"**
4. Verify:
   - Progress bar shows 10% (500/5000)
   - Remaining amount shows $4500
   - Goal details display correctly

**Expected:** Travel goal should save and display progress.

### Test 5: Smart Suggestions Page - AI Integration

**Prerequisites for this test:**
- You should have added at least 3-5 transactions (from Wallet/Expenses)
- You should have set a travel goal (from Travel page)

1. Navigate to **Smart Suggestions** page
2. The page should:
   - Auto-fetch suggestions if data exists
   - Show loading spinner while fetching
   - Display AI-generated suggestions (or mock if API key not set)
3. If you see "Setup Required":
   - Go back and add transactions + travel goal
   - Return to Suggestions page
   - Click **"Refresh"** button

**Expected Behavior:**

**With Groq API Key:**
- Suggestions are generated by Groq LLM
- Personalized based on your spending patterns
- Connected to your travel goal
- Shows potential savings and impact

**Without Groq API Key (Mock Mode):**
- Falls back to mock suggestions
- Still shows savings calculations
- Works for demonstration purposes

**Verify Suggestions:**
- Each suggestion should have:
  - Title
  - Description
  - Potential Savings amount
  - Impact statement
  - Category
- Click on suggestion to expand details
- Click "Dismiss" to remove suggestion

### Test 6: Data Persistence

1. Add transactions and travel goal
2. Refresh the page (F5)
3. **Expected:** Data should persist (localStorage)
4. **Note:** Data is stateless - clears on hard refresh (Ctrl+F5) or browser data clear

### Test 7: Cross-Page Data Sharing

1. Add transaction on **Wallet** page
2. Go to **Expenses** page
3. **Expected:** Transaction should appear in expenses list
4. Go to **Overview/Dashboard**
5. **Expected:** Transaction should appear in Recent Transactions table

## Step 4: Backend API Testing (Optional)

### Test Stateless Suggestions Endpoint

You can test the backend directly using the API docs:

1. Open: http://localhost:8000/docs
2. Find endpoint: `POST /suggestions/calculate`
3. Click "Try it out"
4. Use this test payload:

```json
{
  "transactions": [
    {
      "amount": 50.00,
      "category": "Food",
      "currency": "USD",
      "date": "2024-01-15",
      "description": "Restaurant meal"
    },
    {
      "amount": 150.00,
      "category": "Transport",
      "currency": "USD",
      "date": "2024-01-14",
      "description": "Uber rides"
    },
    {
      "amount": 75.00,
      "category": "Entertainment",
      "currency": "USD",
      "date": "2024-01-13",
      "description": "Movie tickets"
    }
  ],
  "travel_goal": {
    "name": "Summer Trip",
    "target_amount": 5000.00,
    "current_saved": 500.00,
    "target_date": "2024-07-01",
    "destination": "Paris, France"
  },
  "user_id": 1
}
```

5. Click "Execute"
6. **Expected:** JSON response with AI suggestions

### Test Health Endpoint

```bash
curl http://localhost:8000/health
```

Or open in browser: http://localhost:8000/health

## Troubleshooting

### Backend Issues

**Port 8000 already in use:**
```bash
# Find process using port 8000 (Windows)
netstat -ano | findstr :8000

# Kill the process (replace PID)
taskkill /PID <process_id> /F
```

**Module not found errors:**
- Make sure virtual environment is activated
- Reinstall dependencies: `pip install -r requirements.txt`

**API Key errors:**
- Check `.env` file exists and has `GROQ_API_KEY` (optional)
- App will work in mock mode without API key

### Frontend Issues

**Port 3000 already in use:**
```bash
# Use different port
npm run dev -- -p 3001
```

**Module not found:**
```bash
# Clear cache and reinstall
rm -rf node_modules .next
npm install
```

**API connection errors:**
- Make sure backend is running on port 8000
- Check browser console for CORS errors
- Verify `NEXT_PUBLIC_API_URL` in `.env.local`

**Data not persisting:**
- Check browser localStorage (DevTools â†’ Application â†’ Local Storage)
- Should see keys: `finix_balance`, `finix_transactions`, `finix_travel_goal`

## Quick Test Checklist

- [ ] Backend starts on port 8000
- [ ] Frontend starts on port 3000
- [ ] Health endpoint returns 200
- [ ] Wallet page: Can set balance
- [ ] Wallet page: Can add transactions
- [ ] Expenses page: Can add expenses
- [ ] Expenses page: Shows category breakdown
- [ ] Travel page: Can set travel goal
- [ ] Travel page: Shows progress bar
- [ ] Suggestions page: Auto-loads suggestions
- [ ] Suggestions page: Shows AI-generated suggestions
- [ ] Data persists on page refresh
- [ ] Data shared across pages

## Expected Demo Flow

1. **Wallet**: Set balance $5000, add 3 transactions
2. **Expenses**: Add 2 more transactions
3. **Travel**: Set goal "Europe Trip" - $5000 target, $500 saved
4. **Suggestions**: View AI-powered savings recommendations
5. **Overview**: Check transactions appear in dashboard

## Next Steps (Round 2)

For Round 2, you'll:
- Replace mock mode with live Groq API (if not already done)
- Add database persistence
- Implement user authentication
- Add bank integrations

---

**Happy Testing!** ðŸš€

If you encounter any issues, check the browser console (F12) and backend terminal logs.

